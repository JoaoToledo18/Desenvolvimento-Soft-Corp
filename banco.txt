-- MySQL Workbench Forward Engineering SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0; SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0; SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION'; -- ----------------------------------------------------- -- Schema hamburgueria -- ----------------------------------------------------- -- ----------------------------------------------------- -- Schema hamburgueria -- ----------------------------------------------------- CREATE SCHEMA IF NOT EXISTS hamburgueria ; USE hamburgueria ; -- ----------------------------------------------------- -- Table hamburgueria.usuarios -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.usuarios ( idUsuarios INT NOT NULL AUTO_INCREMENT, nome VARCHAR(45) NOT NULL, login VARCHAR(45) NOT NULL, senha VARCHAR(45) NOT NULL, ativo TINYINT NOT NULL, PRIMARY KEY (idUsuarios)) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.permissoes -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.permissoes ( idPermissoes INT NOT NULL AUTO_INCREMENT, tabela VARCHAR(45) NOT NULL, PRIMARY KEY (idPermissoes)) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.usuariosPermissoes -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.usuariosPermissoes ( usuarios_idUsuarios INT NOT NULL, permissoes_idPermissoes INT NOT NULL, permisaoSelect TINYINT NOT NULL, permisaoInsert TINYINT NOT NULL, permisaoUpdate TINYINT NOT NULL, permisaoDelete TINYINT NOT NULL, PRIMARY KEY (usuarios_idUsuarios, permissoes_idPermissoes), INDEX fk_usuarios_has_permissoes_permissoes1_idx (permissoes_idPermissoes ASC) VISIBLE, INDEX fk_usuarios_has_permissoes_usuarios_idx (usuarios_idUsuarios ASC) VISIBLE, CONSTRAINT fk_usuarios_has_permissoes_usuarios FOREIGN KEY (usuarios_idUsuarios) REFERENCES hamburgueria.usuarios (idUsuarios) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT fk_usuarios_has_permissoes_permissoes1 FOREIGN KEY (permissoes_idPermissoes) REFERENCES hamburgueria.permissoes (idPermissoes) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.categorias -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.categorias ( idCategorias INT NOT NULL AUTO_INCREMENT, nome VARCHAR(45) NOT NULL, ativo TINYINT NOT NULL, PRIMARY KEY (idCategorias)) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.ingredientes -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.ingredientes ( idIngredientes INT NOT NULL AUTO_INCREMENT, ingredientescol VARCHAR(45) NOT NULL, medida VARCHAR(2) NOT NULL, ativo TINYINT NOT NULL, PRIMARY KEY (idIngredientes)) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.estoque -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.estoque ( idEstoque INT NOT NULL AUTO_INCREMENT, qtdAtual FLOAT NOT NULL, qtdMinima FLOAT NOT NULL, ingredientes_idIngredientes INT NOT NULL, PRIMARY KEY (idEstoque), INDEX fk_estoque_ingredientes1_idx (ingredientes_idIngredientes ASC) VISIBLE, CONSTRAINT fk_estoque_ingredientes1 FOREIGN KEY (ingredientes_idIngredientes) REFERENCES hamburgueria.ingredientes (idIngredientes) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.produtos -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.produtos ( idProdutos INT NOT NULL AUTO_INCREMENT, nome VARCHAR(45) NOT NULL, preco DECIMAL(10,2) NOT NULL, ativo TINYINT NOT NULL, categorias_idCategorias INT NOT NULL, PRIMARY KEY (idProdutos), INDEX fk_produtos_categorias1_idx (categorias_idCategorias ASC) VISIBLE, CONSTRAINT fk_produtos_categorias1 FOREIGN KEY (categorias_idCategorias) REFERENCES hamburgueria.categorias (idCategorias) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.produtosIngredientes -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.produtosIngredientes ( produtos_idProdutos INT NOT NULL, ingredientes_idIngredientes INT NOT NULL, quantidade FLOAT NOT NULL, PRIMARY KEY (produtos_idProdutos, ingredientes_idIngredientes), INDEX fk_produtos_has_ingredientes_ingredientes1_idx (ingredientes_idIngredientes ASC) VISIBLE, INDEX fk_produtos_has_ingredientes_produtos1_idx (produtos_idProdutos ASC) VISIBLE, CONSTRAINT fk_produtos_has_ingredientes_produtos1 FOREIGN KEY (produtos_idProdutos) REFERENCES hamburgueria.produtos (idProdutos) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT fk_produtos_has_ingredientes_ingredientes1 FOREIGN KEY (ingredientes_idIngredientes) REFERENCES hamburgueria.ingredientes (idIngredientes) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.vendas -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.vendas ( idVendas INT NOT NULL AUTO_INCREMENT, dataVenda DATETIME NOT NULL, status VARCHAR(45) NOT NULL, usuarios_idUsuarios INT NOT NULL, PRIMARY KEY (idVendas), INDEX fk_vendas_usuarios1_idx (usuarios_idUsuarios ASC) VISIBLE, CONSTRAINT fk_vendas_usuarios1 FOREIGN KEY (usuarios_idUsuarios) REFERENCES hamburgueria.usuarios (idUsuarios) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB; -- ----------------------------------------------------- -- Table hamburgueria.itensVendas -- ----------------------------------------------------- CREATE TABLE IF NOT EXISTS hamburgueria.itensVendas ( idItensVendas INT NOT NULL AUTO_INCREMENT, quantidade FLOAT NOT NULL, precoUnitario DECIMAL(10,2) NOT NULL, vendas_idVendas INT NOT NULL, produtos_idProdutos INT NOT NULL, PRIMARY KEY (idItensVendas), INDEX fk_itensVendas_vendas1_idx (vendas_idVendas ASC) VISIBLE, INDEX fk_itensVendas_produtos1_idx (produtos_idProdutos ASC) VISIBLE, CONSTRAINT fk_itensVendas_vendas1 FOREIGN KEY (vendas_idVendas) REFERENCES hamburgueria.vendas (idVendas) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT fk_itensVendas_produtos1 FOREIGN KEY (produtos_idProdutos) REFERENCES hamburgueria.produtos (idProdutos) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB; SET SQL_MODE=@OLD_SQL_MODE; SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS; SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;